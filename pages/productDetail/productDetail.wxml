<!--pages/productDetail/productDetail.wxml-->
<view class="container">
  <view class="content">
    <view class="info">
      <view class="title">{{frameDetail.frameName}}</view>
      <view class="subTitle">{{frameDetail.sketch}}</view>
      <!-- <view class="cycle">预计发货：{{product.productionCycle}}天
        <image src="../../image/icon/question.png" mode="widthFix" style="width:24rpx;margin-left:4rpx;"/>
      </view> -->
    </view>

    <view class="imgDiv">
      <swiper class="swiperContainer" 
        indicator-dots="{{indicatorDots}}"
        autoplay="{{autoplay}}"
        interval="{{interval}}"
        duration="{{duration}}"
        circular="{{circular}}"
        indicator-color="#BEBEBE"
        indicator-active-color="#747474"
        current="{{selectSpec}}"
        bindchange="onSlideChange">
          <block wx:for="{{frameDetail.imageList}}" wx:key="index">
            <swiper-item class="vol-swiper-item">
              <view class="swiperItem">
                <image class="productImg" src="{{item}}" mode="widthFix"></image>
              </view>
            </swiper-item>
          </block>
      </swiper>
    </view>

    <view class="smallImgDiv">
      <block wx:for="{{colors}}">
        <view class="{{index==selectSpec?'specSelected':'specNormal'}}" data-id="{{index}}" bindtap="onSpecChange">
          <image class="smallImg" src="{{item.specImage}}" mode="widthFix"></image>
        </view>
      </block>
    </view>

    <view class="otherDiv">
      <text class="parameter">颜色：{{colors[selectSpec].colorName}}</text>
      <view class="iconDiv">
        <image class="likeIcon" src="../../image/icon/favorites_normal.png" mode="widthFix" bindtap="onAddLike"></image>收藏
        <image class="shareIcon" src="../../image/icon/share.png" mode="widthFix"></image>分享
      </view>  
    </view>

    <view class="priceDiv">
      <text class="price">¥ {{frameDetail.price}}</text>
      <!-- <text class="originalPrice">¥ {{product.originalPrice}}</text> -->
    </view>

    <view class="bottomDiv">
      <image class="smallIcon" src="../../image/icon/tick.png" mode="widthFix" />15天无忧退货
      <image class="smallIcon" src="../../image/icon/tick.png" mode="widthFix" />先行赔付
      <image class="smallIcon" src="../../image/icon/tick.png" mode="widthFix" />超时赔偿
      <image class="smallIcon" src="../../image/icon/tick.png" mode="widthFix" />顺丰包邮
      <view class='arrow'></view>
      <!-- <image class="moreIcon" src="../../image/icon/more.png" mode="widthFix" /> -->
    </view>

    <view class="commentDiv">
      <view class="commentHeader">
        <view class="commentTitle">评价（30+）</view>
        <view class="commentRate">好评<span style="color:#72C9FA;">100%</span></view>
        <view class='arrow'></view>
      </view>
      <view class="divContainer">
        <view class="divLine"></view>
      </view>
      <view class="commentContent">
      评论内容
      </view>
    </view>

  </view>
  
  <view class="footer">
    <view class="navDiv">
      <image class="serviceIcon" src="../../image/icon/service_normal.png" mode="widthFix"></image>
      客服
    </view>
    <view class="navDiv" bindtap="goToShoppingCart">
      <image class="cartIcon" src="../../image/icon/addCart.png" mode="widthFix"></image>
      购物车
    </view>   
    <view wx:if="{{userInfo!=null}}" class="footerBtn">
      <view class="leftBtn" bindtap="onAddCart">加入购物车</view>
      <view class="rightBtn" bindtap="onBuyNow">立即购买</view>
    </view>
    <view wx:else class="footerBtn">
      <view class="leftBtn" bindtap="onLogin">加入购物车</view>
      <view class="rightBtn" bindtap="onLogin">立即购买</view>
    </view>
  </view>
  
</view>

<action-sheet id="addCart" addCart="0" colors="{{colors}}" />
<action-sheet id="buyNow" addCart="1" colors="{{colors}}" frame="{{frameDetail}}"/>

<grant-dialog id="getUserInfo" bindgetuserinfo="bindgetuserinfo"/>
<login-dialog id="getPhoneNumber" binduserExist="binduserExist"/>